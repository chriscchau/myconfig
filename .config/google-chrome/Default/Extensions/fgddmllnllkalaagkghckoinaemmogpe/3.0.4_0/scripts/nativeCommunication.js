!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=584)}({128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=void 0,t=!1,n=0,r=0,i=function(e,t){return{jsonrpc:"2.0",method:e,params:t,id:1}},s=function(){var e=Math.pow(2,n)-1,t=100*function(e,t){var n=Math.ceil(e),o=Math.floor(t);return Math.floor(Math.random()*(o-n+1))+n}(0,e);return n+=1,t},a=function(e){return null===e||void 0===e||""===e},c=function i(){var c=chrome.runtime.id.startsWith("EdgeExtension")?"xvpncompanion":"com.expressvpn.helper";e=chrome.runtime.connectNative(c),e.onMessage.addListener(function(e){var i=e;if("object"!==(void 0===e?"undefined":o(e))&&chrome.runtime.id.startsWith("EdgeExtension"))try{i=JSON.parse(e)}catch(e){i={}}if(null===i||"object"!==(void 0===i?"undefined":o(i)))return!0;if(i.error)i.error.indexOf("sendEngineCommand: not activated")>0&&(n=r);else if(i.connected){if(r=n,n=0,!t){t=!0;var s={};void 0!==i.app_version&&(s.app_version=i.app_version),top.postMessage({method:"connectedToHelper",data:s},"*")}}else if(i.info&&i.info.state){var c={state:i.info.state,selectedLocation:i.info.selected_location||i.info.last_location,app:{latest_version:i.info.latest_version,latest_version_url:i.info.latest_version_url},last_location:i.info.last_location,subscription:i.subscription,website_url:i.info.website_url};c.selectedLocation&&!0===c.selectedLocation.is_country&&("object"===o(i.info.current_location)?c.selectedLocation=i.info.current_location:"ready"===i.info.state&&(c.selectedLocation=i.info.last_location)),top.postMessage({method:"currentState",currentInfo:c},"*")}else if(i.name&&i.data)top.postMessage({method:"updateStatus",name:i.name,data:i.data[i.name+"Data"]},"*");else if(i.Preferences)top.postMessage({method:"updatePreferences",data:i.Preferences},"*");else if(i.locations){var u=[];i.locations.forEach(function(e){!0===e.recommended&&u.push(e)}),u.sort(function(e,t){return e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0}),void 0!==i.default_location&&top.postMessage({method:"updateSmartLocation",data:{name:i.default_location.name,iconId:i.default_location.icon_id}},"*"),top.postMessage({method:"updateLocationsData",data:{recommended:u,all:i.locations}},"*")}else if(i.messages){var f=i.messages[0];!0==("object"===(void 0===f?"undefined":o(f))&&!a(f.button)&&!a(f.button_link)&&!a(f.message))&&(chrome.runtime.sendMessage({latestMessage:!0,data:f}),chrome.storage.local.set({latestMessage:f}))}else i.data&&i.name}),e.onDisconnect.addListener(function(e){t=!1,setTimeout(function(){i()},s())})};window.addEventListener("message",function(e){if(!e.origin.startsWith("safari-extension://")&&e.origin!==chrome.extension.getURL("/").slice(0,-1))return!1;switch(e.data.method){case"resetBackoff":n=0,c()}},!1);var u=function(n){!0===t&&e.postMessage(n)},f=function(){return u(i("XVPN.GetStatus"))},l=function(){return u(i("XVPN.GetBrowserPreferences"))},d=function(){return u(i("XVPN.GetEnginePreferences"))},p=function(){return u(i("XVPN.GetLocations",{include_default_location:!0}))},m=function(){return u(i("XVPN.GetLogs"))},_=function(){return u(i("XVPN.StopSpeedTest"))},g=function(e){return u(i("XVPN.SelectLocation",{selected_location:{name:e.name,is_country:e.is_country,is_smart_location:e.is_smart_location}}))},v=function(e){var t={is_default:e.is_smart_location};return e.is_country?t.country=e.name:t.name=e.name,u(i("XVPN.Connect",t))},P=function(){return u(i("XVPN.ResetState"))},h=function(){return u(i("XVPN.Reset"))},y=function(e){return u(i("XVPNUI.OpenLocationPicker"))},b=function(e){return u(i("XVPNUI.OpenChromePreferences"))},L=function(e){return u(i("XVPNUI.OpenPreferences"))},M=function(){return u(i("XVPN.Disconnect"))},N=function(){return u(i("XVPN.GetMessages"))},S=function(){return u(i("XVPN.RetryConnect"))};return{buildRequest:i,getStatus:f,getBrowserPreferences:l,getEnginePreferences:d,connect:c,getLocationList:p,getConnectionLogs:m,cancelSpeedTest:_,selectLocation:g,connectToLocation:v,openLocationPicker:y,openChromePreferences:b,openPreferences:L,disconnect:M,isInstalled:function(){return t},getMessages:N,openApp:function(){return u(i("XVPNUI.LaunchApp"))},reset:h,resetState:P,retryConnect:S}}()},584:function(e,t,n){e.exports=n(128)}});