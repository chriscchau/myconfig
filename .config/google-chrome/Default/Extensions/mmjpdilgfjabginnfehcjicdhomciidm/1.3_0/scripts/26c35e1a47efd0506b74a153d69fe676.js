window.ReadiumLibraryData=[{fixed_layout:!1,open_to_spread:!1,cover_href:"/images/library/missing-cover-image.png",created_at:"2012-03-27T19:22:01.521Z",updated_at:"2012-03-27T19:23:38.309Z",key:"1",src_url:"http://code.google.com/p/epub-samples/downloads/list",package_doc_path:"/epub_content/1/EPUB/package.opf",id:"code.google.com.epub-samples.linear-algebra",epub_version:"3.0",title:"A First Course in Linear Algebra",author:"Robert A. Beezer",publisher:"",description:"",rights:"This work is shared with the public using the GNU Free Documentation License, Version 1.2.",
language:"en",pubdate:"",modified_date:"2012-03-05T12:47:00Z",layout:"",spread:"",orientation:"",ncx:""},{fixed_layout:!1,open_to_spread:!1,cover_href:"/epub_content/2/EPUB/images/portrait.jpg",created_at:"2012-03-27T19:24:45.543Z",updated_at:"2012-03-27T19:25:00.094Z",key:"2",src_url:"http://code.google.com/p/epub-samples/downloads/list",package_doc_path:"/epub_content/2/EPUB/cole.opf",id:"code.google.com.epub-samples.cole-voyage-of-life",epub_version:"3.0",title:"Thomas Cole - The Voyage of Life",
author:"Jesse Dylan",publisher:"",description:"",rights:"This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 Unported License.",language:"en-US",pubdate:"",modified_date:"2012-03-20T11:37:00Z",layout:"",spread:"",orientation:"",ncx:""},{fixed_layout:!1,open_to_spread:!1,cover_href:"/epub_content/3/EPUB/wasteland-cover.jpg",created_at:"2012-03-27T19:25:40.235Z",updated_at:"2012-03-27T19:26:06.326Z",key:"3",src_url:"http://code.google.com/p/epub-samples/downloads/list",package_doc_path:"/epub_content/3/EPUB/wasteland.opf",
id:"code.google.com.epub-samples.wasteland-basic",epub_version:"3.0",title:"The Waste Land",author:"T.S. Eliot",publisher:"",description:"",rights:"This work is shared with the public using the Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) license.",language:"en-US",pubdate:"2011-09-01",modified_date:"2012-01-18T12:47:00Z",layout:"",spread:"",orientation:"",ncx:"ncx"},{fixed_layout:!0,open_to_spread:!1,cover_href:"/epub_content/4/OPS/Image/cover.jpg",created_at:"2012-03-28T18:24:18.450Z",updated_at:"2012-03-28T18:25:32.553Z",
key:"4",src_url:"http://code.google.com/p/epub-samples/downloads/list",package_doc_path:"/epub_content/4/OPS/package.opf",id:"urn:uuid:d5803940-647f-11e1-ad77-0002a5d5c51b",epub_version:"3.0",title:"Page Blanche",author:"Boulet",publisher:"\u00e9ditions Delcourt",description:"",rights:"This work is shared with the public using the Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) license.",language:"fr",pubdate:"2012-01-18",modified_date:"2012-03-06T12:00:00Z",layout:"pre-paginated",spread:"auto",
orientation:"auto",ncx:""},{author:"Mary Webb",cover_href:"/images/library/missing-cover-image.png",created_at:"2012-04-10T21:47:53.353Z",description:"",epub_version:"2.0",fixed_layout:!1,id:"urn:uuid:ADDB2B4D-BA43-4DE9-8BAB-CF8759C8F843",key:"3921047c34132ab12338059f09bbf5c8",language:"en-gb",layout:"",modified_date:"",ncx:"ncx",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/5/OPS/content.opf",pubdate:"2002",publisher:"epubBooks (www.epubbooks.com)",rights:"\u21b5            Provided for free by epubBooks.com. Not for commercial use.\u21b5            This EPUB eBook is released under a Creative Commons (BY-NC-ND/3.0) Licence.\u21b5            Source text and images are in the Public Domain.\u21b5      ",
spread:"",src_url:"webb-precious-bane.epub",title:"Precious Bane",updated_at:"2012-04-10T21:48:57.267Z"},{apple_fixed:!1,author:"EPUB 3 Working Group",cover_href:"/epub_content/epub30_spec/EPUB/img/epub_logo_color.jpg",created_at:"2012-06-15T00:05:56.371Z",description:"",epub_version:"3.0",fixed_layout:!1,id:"code.google.com.epub-samples.epub30-spec",key:"epub30_spec",language:"en",layout:"",modified_date:"2012-02-27T16:38:35Z",ncx:"",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/epub30_spec/EPUB/package.opf",
page_prog_dir:"",paginate_backwards:!1,pubdate:"",publisher:"",rights:"",spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"EPUB 3.0 Specification",updated_at:"2012-06-15T00:06:37.334Z"},{apple_fixed:!1,author:"",cover_href:"/images/library/missing-cover-image.png",created_at:"2012-06-15T00:05:56.371Z",description:"",epub_version:"3.0",fixed_layout:!1,id:"http://www.aozora.gr.jp/cards/000148/card776.html",key:"kusamakura",language:"ja-jp",layout:"",modified_date:"2012-04-24T00:00:00Z",
ncx:"ncxtoc",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/kusamakura/OPS/package.opf",page_prog_dir:"rtl",paginate_backwards:!1,pubdate:"",publisher:"",rights:"",spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"\u8349\u6795",updated_at:"2012-06-15T00:06:55.212Z"},{apple_fixed:!1,author:"Herman Melville",cover_href:"/epub_content/moby_dick/OPS/images/9780316000000.jpg",created_at:"2012-06-15T00:05:56.371Z",description:"",epub_version:"3.0",fixed_layout:!1,
id:"code.google.com.epub-samples.moby-dick-basic",key:"moby_dick",language:"en-US",layout:"",modified_date:"2012-01-18T12:47:00Z",ncx:"",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/moby_dick/OPS/package.opf",page_prog_dir:"",paginate_backwards:!1,pubdate:"",publisher:"Harper & Brothers, Publishers",rights:"This work is shared with the public using the Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) license.",spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",
title:"Moby-Dick",updated_at:"2012-06-15T00:07:21.516Z"},{apple_fixed:!1,author:"",cover_href:"/epub_content/trees/EPUB/cover.jpg",created_at:"2012-06-15T00:05:56.371Z",description:"Test of canvas element and CSS3 multi-column layout",epub_version:"3.0",fixed_layout:!1,id:"code.google.com.epub-samples.trees",key:"trees",language:"en",layout:"",modified_date:"2012-04-05T12:47:00Z",ncx:"",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/trees/EPUB/package.opf",page_prog_dir:"",paginate_backwards:!1,
pubdate:"",publisher:"",rights:"",spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"Trees",updated_at:"2012-06-15T00:07:49.803Z"},{apple_fixed:!1,author:"",cover_href:"/images/library/missing-cover-image.png",created_at:"2012-06-15T00:08:27.336Z",description:"",epub_version:"3.0",fixed_layout:!0,id:"urn:uuid:A649F639-6C1F-1014-8CC3-F813564D7508",key:"haruko",language:"ja-jp",layout:"pre-paginated",modified_date:"2012-05-24T00:00:00Z",ncx:"ncxtoc",open_to_spread:!1,orientation:"portrait",
package_doc_path:"/epub_content/haruko/OPS/package.opf",page_prog_dir:"rtl",paginate_backwards:!1,pubdate:"",publisher:"",rights:"",spread:"landscape",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"\u30cf\u30eb\u30b3\u3055\u3093\u306e\u5f7c\u6c0f",updated_at:"2012-06-15T00:08:36.776Z"},{apple_fixed:!1,author:"",cover_href:"/images/library/missing-cover-image.png",created_at:"2012-06-15T00:08:27.336Z",description:"",epub_version:"3.0",fixed_layout:!1,id:"code.google.com.epub-samples.hefty.water",
key:"hefty_water",language:"en",layout:"",modified_date:"2012-03-29T12:00:00Z",ncx:"",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/hefty_water/EPUB/package.opf",page_prog_dir:"",paginate_backwards:!1,pubdate:"2012-03-29",publisher:"",rights:"",spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"Hefty Water",updated_at:"2012-06-15T00:09:37.681Z"},{apple_fixed:!1,author:"Matt Garrish",cover_href:"/epub_content/accessible_epub_3/EPUB/covers/9781449328030_lrg.jpg",
created_at:"2012-06-15T00:10:25.327Z",current_margin:1,current_theme:"default-theme",description:"",epub_version:"3.0",fixed_layout:!1,font_size:10,id:"urn:isbn:9781449328030",key:"accessible_epub_3",language:"en",layout:"",modified_date:"2012-02-20T22:17:24Z",ncx:"ncx",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/accessible_epub_3/EPUB/package.opf",page_prog_dir:"",paginate_backwards:!1,pubdate:"2012",publisher:"O\u2019Reilly Media, Inc.",rights:"Copyright \u00a9 2012 O\u2019Reilly Media, Inc",
spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"Accessible EPUB 3",two_up:!0,updated_at:"2012-06-15T00:13:26.319Z"},{apple_fixed:!1,author:"Pr David Khayat",cover_href:"/epub_content/regime_anticancer_arabic/EPUB/Image/cover.jpg",created_at:"2012-06-15T00:11:17.450Z",description:"",epub_version:"3.0",fixed_layout:!1,id:"code.google.com.epub-samples.regime-anticancer-arabic",key:"regime_anticancer_arabic",language:"ar",layout:"",modified_date:"2012-03-26T12:00:00Z",
ncx:"ncx",open_to_spread:!1,orientation:"",package_doc_path:"/epub_content/regime_anticancer_arabic/EPUB/package.opf",page_prog_dir:"rtl",paginate_backwards:!1,pubdate:"2012",publisher:"Hachette Antoine",rights:"This work is shared with the public using the Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) license.",spread:"",src_url:"http://code.google.com/p/epub-samples/downloads/list",title:"Le Vrai R\u00e9gime anti-cancer",updated_at:"2012-06-15T00:11:57.065Z"}];
if(!window.Readium)window.Readium={Models:{},Collections:{},Views:{},Routers:{},Utils:{},Init:function(){window.options=Readium.Models.ReadiumOptions.getInstance();window.optionsView=new Readium.Views.ReadiumOptionsView({model:window.options});window.Library=new Readium.Collections.LibraryItems(window.ReadiumLibraryData);window.lib_view=new Readium.Views.LibraryItemsView({collection:window.Library});window.router=new Readium.Routers.ApplicationRouter({collection:window.Library});Backbone.history.start({pushState:!1});
window.Library.trigger("reset");$("#block-view-btn").click(function(){$("#library-items-container").addClass("block-view").removeClass("row-view")});$("#row-view-btn").click(function(){$("#library-items-container").addClass("row-view").removeClass("block-view")})}};$(function(){window.Readium.Init()});
Readium.HttpFileApi=function(){var b={readTextFile:function(a,c,b){$.ajax({url:a,dataType:"text",success:function(a,b,d){c(a,d)},error:function(a,c,d){b(a,c,d)}})},getFsUri:function(a,b){b(document.location.protocol+"//"+document.location.host+a)}};return function(a){a(b);return b}}();Readium.FileSystemApi=Readium.HttpFileApi;
Readium.Utils.Guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var b=Math.random()*16|0;return(d=="x"?b:b&3|8).toString(16)})};
Readium.Utils.LocalStorageAdaptor=function(d){var b,f=function(){localStorage.setItem(d,JSON.stringify(b))};return function(h,a,e){var c,g=localStorage.getItem(d);b=g&&JSON.parse(g)||{};switch(h){case "read":c=a.id?b[a.id]:_.values(b);break;case "create":if(!a.id)a.id=a.attributes.id=guid();b[a.id]=a;f();c=a;break;case "update":b[a.id]=a;f();c=a;break;case "delete":delete b[a.id],f(),c=a}c?e.success&&e.success(c):e.error&&e.error("Record not found")}};
Readium.Utils.setCookie=function(d,a,b){var c=new Date;c.setDate(c.getDate()+b);a=escape(a)+(b==null?"":"; expires="+c.toUTCString());document.cookie=d+"="+a};Readium.Utils.getCookie=function(d){var a,b,c,e=document.cookie.split(";");for(a=0;a<e.length;a++)if(b=e[a].substr(0,e[a].indexOf("=")),c=e[a].substr(e[a].indexOf("=")+1),b=b.replace(/^\s+|\s+$/g,""),b==d)return unescape(c)};Readium.Utils.trimString=function(d){return d.replace(/^\s+|\s+$/g,"")};
Handlebars.registerHelper("orUnknown",function(a){return a?a:"Unknown"});
Readium.Models.ReadiumOptions=Backbone.Model.extend({initialize:function(){this.set("id","singleton")},defaults:{hijack_epub_urls:!1,verbose_unpacking:!0,paginate_everything:!0},sync:Readium.Utils.LocalStorageAdaptor("READIUM_OPTIONS")},{getInstance:function(){var a=new Readium.Models.ReadiumOptions;a.fetch({error:function(){localStorage.setItem("READIUM_OPTIONS","");a.save()}});return a}});
Readium.Models.LibraryItem=Backbone.Model.extend({idAttribute:"key",getViewBookUrl:function(){return"/viewer.html?book="+this.get("key")},openInReader:function(){window.location=this.getViewBookUrl()}});Readium.Collections.LibraryItems=Backbone.Collection.extend({model:Readium.Models.LibraryItem,url:"/epub_content/metadata.json"});
Readium.Views.LibraryItemView=Backbone.View.extend({tagName:"div",className:"book-item clearfix",initialize:function(){_.bindAll(this,"render");this.template=Handlebars.templates.library_item_template},render:function(){var a=this.template({data:this.model.toJSON()});$(this.el).html(a);this.$(".delete").toggle(!1);return this},events:{"click .delete":function(a){a.preventDefault();var b="#details-modal-"+this.model.get("key"),a="Are you sure you want to perminantly delete ";a+=this.model.get("title");
a+="?";confirm(a)&&($(b).modal("hide"),this.model.destroy(),this.remove())},"click .read":function(){this.model.openInReader()}}});
Readium.Views.LibraryItemsView=Backbone.View.extend({tagName:"div",id:"library-items-container",className:"row-view clearfix",initialize:function(){this.template=Handlebars.templates.library_items_template;this.collection.bind("reset",this.render,this);this.collection.bind("add",this.addOne,this)},render:function(){var a=this.collection,b=$(this.el);b.html(this.template({}));this.$("#empty-message").toggle(this.collection.isEmpty());a.each(function(c){c=new Readium.Views.LibraryItemView({model:c,
collection:a,id:c.get("id")});b.append(c.render().el)});$("#library-books-list").html(this.el);return this},addOne:function(a){a=new LibraryItemView({model:a,collection:this.collection,id:a.get("id")});this.$("#empty-message").toggle(!1);$(this.el).append(a.render().el)},events:{}});
Readium.Views.ExtractItemView=Backbone.View.extend({el:$("#progress-container")[0],initialize:function(){this.template=Handlebars.templates.extracting_item_template;this.model.bind("change",this.render,this);this.model.bind("change:error",this.extractionFailed,this)},render:function(){var a=$(this.el);this.model.get("extracting")?(a.html(this.template(this.model.toJSON())),a.show("slow")):a.hide("slow");return this},extractionFailed:function(){alert(this.model.get("error"));this.model.set("extracting",
!1)}});
Readium.Views.ReadiumOptionsView=Backbone.View.extend({el:"#readium-options-modal",initialize:function(){this.model.on("change",this.render,this);this.render()},render:function(){var a=this.model;this.$("#paginate_everything").prop("checked",a.get("paginate_everything"));this.$("#verbose_unpacking").prop("checked",a.get("verbose_unpacking"));this.$("#hijack_epub_urls").prop("checked",a.get("hijack_epub_urls"))},events:{"change #verbose_unpacking":"updateSettings","change #hijack_epub_urls":"updateSettings","change #paginate_everything":"updateSettings",
"click #save-settings-btn":"save"},updateSettings:function(){var a=this.$("#hijack_epub_urls").prop("checked"),b=this.$("#verbose_unpacking").prop("checked"),c=this.$("#paginate_everything").prop("checked");this.model.set({verbose_unpacking:b,hijack_epub_urls:a,paginate_everything:c})},save:function(){this.model.save();this.$el.modal("hide")}});
Readium.Routers.ApplicationRouter=Backbone.Router.extend({initialize:function(a){this.collection=a.collection},routes:{"view_book/:id":"openBook","":"showLibrary"},openBook:function(a){this.showViewer();a=this.collection.get(a).toJSON();a.fixed_layout?(console.log("initializing fixed layout book"),window._book=new Readium.Models.AppleFixedEbook(a)):(console.log("initializing reflowable book"),window._book=new Readium.Models.ReflowableEbook(a));window._libraryView=new Readium.Views.ViewerApplicationView({model:window._book});
window._libraryView.render()},showLibrary:function(){$("#readium-library-activity").toggle(!0);$("#readium-viewer-activity").toggle(!1)},showViewer:function(){$("#readium-library-activity").toggle(!1);$("#readium-viewer-activity").toggle(!0)},splat_handler:function(a){console.log(a)}});
(function(){var h=Handlebars.template,i=Handlebars.templates=Handlebars.templates||{};i.binding_template=h(function(){return'<iframe scrolling="no" \n\t\tframeborder="0" \n\t\tmarginwidth="0" \n\t\tmarginheight="0" \n\t\twidth="100%" \n\t\theight="100%" \n\t\tclass=\'binding-sandbox\'>\n</iframe>'});i.extracting_item_template=h(function(e,b,d){var d=d||e.helpers,e="",a,c=d.helperMissing,f=this.escapeExpression;e+="<h5>";a=(a=d.log_message)||b.log_message;typeof a==="function"?a=a.call(b,{hash:{}}):
a===void 0&&(a=c.call(b,"log_message",{hash:{}}));e+=f(a)+'</h5>\n<div class="progress progress-striped progress-success active ">\t\n\t\t<div role="status" aria-live="assertive" aria-relevant="all" class="bar" style="width: ';a=(a=d.progress)||b.progress;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=c.call(b,"progress",{hash:{}}));e+=f(a)+'%;"></div>\n</div>';return e});i.fixed_page_template=h(function(e,b,d){var d=d||e.helpers,e="",a,c=d.helperMissing,f=this.escapeExpression;e+='<div class="fixed-page-margin">\n\t<iframe scrolling="no" \n\t\t\tframeborder="0" \n\t\t\tmarginwidth="0" \n\t\t\tmarginheight="0" \n\t\t\twidth="';
a=(a=d.width)||b.width;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=c.call(b,"width",{hash:{}}));e+=f(a)+'px" \n\t\t\theight="';a=(a=d.height)||b.height;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=c.call(b,"height",{hash:{}}));e+=f(a)+'px" \n\t\t\tsrc="';a=(a=d.uri)||b.uri;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=c.call(b,"uri",{hash:{}}));e+=f(a)+"\"\n\t\t\tclass='content-sandbox'>\n\t</iframe>\n</div>";return e});i.image_page_template=h(function(e,
b,d){var d=d||e.helpers,e="",a=d.helperMissing,c=this.escapeExpression;e+='<div class="fixed-page-margin">\n\t<img src="';d=d.uri||b.uri;typeof d==="function"?d=d.call(b,{hash:{}}):d===void 0&&(d=a.call(b,"uri",{hash:{}}));e+=c(d)+'" >\n</div>';return e});i.library_item_template=h(function(e,b,d){var d=d||e.helpers,e="",a,c,f=d.helperMissing,g=this.escapeExpression;e+="<div class='info-wrap clearfix'>\n\t<div class='caption book-info'>\n\t\t<h2 class='green info-item title'>";a=(c=d.data)||b.data;
a=a===null||a===void 0||a===!1?a:a.title;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.title",{hash:{}}));e+=g(a)+"</h2>\n\t\t<div class='info-item author'>";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.author;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='info-item epub-version'>ePUB ";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.epub_version;
c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t\n\t</div>\n\t\n\t<img class='cover-image read' src='";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.cover_href;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.cover_href",{hash:{}}));e+=g(a)+"' width='150' height='220' alt='Open ePUB ";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.title;typeof a==="function"?
a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.title",{hash:{}}));e+=g(a)+"'>\n\t\n\t<a href=\"#details-modal-";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.key;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.key",{hash:{}}));e+=g(a)+'" class="info-icon" data-toggle="modal" role="button">\n\t\t<img class=\'info-icon pull-right\' src=\'/images/library/info-icon.png\' height="39px" width="39px" alt=\'';a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.title;
typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.title",{hash:{}}));e+=g(a)+' information\'>\n\t</a>\n</div>\n\n<div class="caption clearfix buttons">\n\t<a href="#todo" class="btn read" data-book=\'';a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.key;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.key",{hash:{}}));e+=g(a)+"' role='button'>Read</a>\n\t<a href=\"#details-modal-";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.key;
typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.key",{hash:{}}));e+=g(a)+'" class="btn details" data-toggle="modal" role="button">\n\t\tDetails\n\t</a>\n</div>\n\n<div id=\'details-modal-';a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.key;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.key",{hash:{}}));e+=g(a)+"' class='modal fade details-modal'>\n\t<div class=\"pull-left modal-cover-wrap\">\n\t\t<img class='details-cover-image' src='";
a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.cover_href;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.cover_href",{hash:{}}));e+=g(a)+"' width='150' height='220' alt='ePUB cover'>\n\t\t<div class=\"caption clearfix modal-buttons\">\n\t\t\t<a href=\"#\" class=\"btn read\" data-book='<%= data.key %>' role='button'>Read</a>\n\t\t\t<a class=\"btn btn-danger delete pull-right\" role='button'>Delete</a>\n\t\t</div>\n\t</div>\n\t<div class='caption modal-book-info'>\n\t\t<h3 class='green modal-title'>";
a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.title;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=f.call(b,"data.title",{hash:{}}));e+=g(a)+"</h3>\n\t\t<div class='modal-detail gap'>Author: ";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.author;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='modal-detail'>Publisher: ";a=(c=d.data)||b.data;a=a===null||a===void 0||
a===!1?a:a.publisher;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='modal-detail'>Pub Date: ";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.pubdate;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='modal-detail'>Modified Date: ";a=(c=d.data)||b.data;a=a===null||a===void 0||
a===!1?a:a.modified_date;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='modal-detail gap'>ID: ";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.id;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='modal-detail green'>Format: ePUB ";a=(c=d.data)||b.data;a=a===null||a===void 0||
a===!1?a:a.epub_version;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t\t<div class='modal-detail'>Added: ";a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.created_at;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"</div>\n\t</div>\n\t<div class='modal-detail source'>\n\t<span class='green' style=\"padding-right: 10px\">Source:</span>\n\t\t";
a=(c=d.data)||b.data;a=a===null||a===void 0||a===!1?a:a.src_url;c=(c=d.orUnknown)||b.orUnknown;a=typeof c==="function"?c.call(b,a,{hash:{}}):c===void 0?f.call(b,"orUnknown",a,{hash:{}}):c;e+=g(a)+"\n\t</div>\n</div>\t\t\t";return e});i.library_items_template=h(function(){return"<div id='empty-message'>\n\t<p id='empty-message-text' class='green'>\n\t\tClick on + to add ePUB books to your library\n</div>"});i.ncx_nav_template=
h(function(e,b,d){var d=d||e.helpers,e="",a,c=d.helperMissing,f=this.escapeExpression;e+='<li class="nav-elem">\n\t<a href="';a=(a=d.href)||b.href;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=c.call(b,"href",{hash:{}}));e+=f(a)+'">';a=(a=d.text)||b.text;typeof a==="function"?a=a.call(b,{hash:{}}):a===void 0&&(a=c.call(b,"text",{hash:{}}));e+=f(a)+"</a>\n</li>";return e});i.reflowing_template=h(function(e,b,d){var d=d||e.helpers,e="",a=d.helperMissing,c=this.escapeExpression;e+='<div id="flowing-wrapper">\n\t<iframe scrolling="no" \n\t\t\tframeborder="0" \n\t\t\tmarginwidth="0" \n\t\t\tmarginheight="0" \n\t\t\twidth="50%" \n\t\t\theight="100%" \n\t\t\tsrc="';
d=d.uri||b.uri;typeof d==="function"?d=d.call(b,{hash:{}}):d===void 0&&(d=a.call(b,"uri",{hash:{}}));e+=c(d)+'"\n\t\t\tid="readium-flowing-content">\n\t</iframe>\n</div>';return e});i.scrolling_page_template=h(function(e,b,d){var d=d||e.helpers,e="",a=d.helperMissing,c=this.escapeExpression;e+='<div id="scrolling-content" class="scrolling-page-wrap">\n\t<div class="scrolling-page-margin">\n\n\t\t<iframe scrolling="yes" \n\t\t\t\tframeborder="0" \n\t\t\t\tmarginwidth="0" \n\t\t\t\tmarginheight="0" \n\t\t\t\twidth="100%" \n\t\t\t\theight="100%" \n\t\t\t\tsrc="';
d=d.uri||b.uri;typeof d==="function"?d=d.call(b,{hash:{}}):d===void 0&&(d=a.call(b,"uri",{hash:{}}));e+=c(d)+"\"\n\t\t\t\tclass='content-sandbox'>\n\t\t</iframe>\n\t</div>\n</div>";return e})})();
