!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=704)}({138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IGNORED_FRAME_CLASS="en-serializer-ignore",t.SERIALIZER_IGNORED_CLASS="en-serializer-ignore",t.MessageNames={FORWARD_FETCH_REQUEST:"EN_forwardFetchRequest",INSTALL_SERIALIZER:"EN_installFrameSerializer",INSTALL_AND_SERIALIZE_ALL:"EN_installAndSerializeAll",INSTALL_AND_SERIALIZE_TO:"EN_installAndSerializeTo",SERIALIZE:"EN_serialize"}},242:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="__error__",a="EN_request",i="EN_response";t.default=class{constructor(e,t){this._channelName=e||"",this._requestHandlers=t,this._uniqueMessageID=0,this._pendingMessages={},this._handleMessage=this._handleMessage.bind(this)}start(){window.addEventListener("message",this._handleMessage)}stop(){window.removeEventListener("message",this._handleMessage)}sendMessageToFrame(e,t,r){return this.sendMessage(e.contentWindow,t,r)}sendMessageToParent(e,t){return this.sendMessage(window.parent,e,t)}sendMessage(e,t,r){return new Promise((n,i)=>{const o=`${this._channelName}-${++this._uniqueMessageID}`,s={type:a,messageID:o,name:t,data:r};this._pendingMessages[o]={name:t,resolve:n,reject:i},e.postMessage(s,"*")})}_handleMessage(e){if(e.data)switch(e.data.type){case a:return this._handleRequest(e.data,e.source);case i:return this._handleResponse(e.data)}}_handleRequest(e,t){const r=e.name,a=e.messageID,o=this._requestHandlers[r];if(!o)return;const s=o(e.data||{});Promise.resolve(s).catch(e=>({[n]:e.message})).then(e=>{const n={type:i,messageID:a,name:r,data:e};t.postMessage(n,"*")})}_handleResponse(e){const t=e.messageID,r=(e.name,this._pendingMessages[t]);if(!r)return;const a=r.resolve,i=r.reject;e.data&&e.data[n]&&i(e.data[n]),a(e.data),delete this._pendingMessages[t]}}},248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new class{debug(...e){this._log("debug",e)}log(...e){this._log("log",e)}warn(...e){this._log("warn",e)}error(...e){this._log("error",e)}_log(e,t){if(console[e].apply)return console[e](...t);this._logWithoutApply(e,t)}_logWithoutApply(e,t){t.forEach(t=>{console[e](t)})}}},466:function(e,t,r){"use strict";function n(e){function t(e,t){if((t=t.toLowerCase()).match(/^on/i))return!1;if(t.match(/^data-/i))return!1;if(ne.indexOf(t)>-1)return!1;switch(e){case"a":return se.indexOf(t)>-1||oe.indexOf(t)>-1||["charset","coords","href","hreflang","name","rel","rev","shape","target","type"].indexOf(t)>-1;case"abbr":case"acronym":case"address":return se.indexOf(t)>-1;case"area":return se.indexOf(t)>-1||oe.indexOf(t)>-1||["alt","coords","href","nohref","shape","target"].indexOf(t)>-1;case"b":return se.indexOf(t)>-1;case"bdo":return ae.indexOf(t)>-1||["dir","lang"].indexOf(t)>-1;case"big":return se.indexOf(t)>-1;case"blockquote":return se.indexOf(t)>-1||["cite"].indexOf(t)>-1;case"br":return ae.indexOf(t)>-1||["clear"].indexOf(t)>-1;case"caption":return se.indexOf(t)>-1||["align"].indexOf(t)>-1;case"center":case"cite":case"code":return se.indexOf(t)>-1;case"col":return se.indexOf(t)>-1||le.indexOf(t)>-1||["span","valign","width"].indexOf(t)>-1;case"colgroup":return se.indexOf(t)>-1||le.indexOf(t)>-1||["valign"].indexOf(t)>-1;case"dd":return se.indexOf(t)>-1;case"del":return se.indexOf(t)>-1||["cite","datetime"].indexOf(t)>-1;case"dfn":return se.indexOf(t)>-1;case"div":return["evernote_attachment_url","evernote_attachment_name","evernote_attachment_mime"].indexOf(t)>-1||(se.indexOf(t)>-1||["align"].indexOf(t)>-1);case"dl":return se.indexOf(t)>-1||["compact"].indexOf(t)>-1;case"dt":case"em":return se.indexOf(t)>-1;case"font":return ae.indexOf(t)>-1||ie.indexOf(t)>-1||["color","face","size"].indexOf(t)>-1;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return se.indexOf(t)>-1||["align"].indexOf(t)>-1;case"hr":return se.indexOf(t)>-1||["align","noshade","size","width"].indexOf(t)>-1;case"i":return se.indexOf(t)>-1;case"img":return se.indexOf(t)>-1||["align","border","height","hspace","ismap","longdesc","name","src","usemap","vspace","width"].indexOf(t)>-1;case"ins":return se.indexOf(t)>-1||["cite","datetime"].indexOf(t)>-1;case"kbd":return se.indexOf(t)>-1;case"li":return se.indexOf(t)>-1||["type","value"].indexOf(t)>-1;case"map":return ie.indexOf(t)>-1||["name","title"].indexOf(t)>-1;case"ol":return se.indexOf(t)>-1||["compact","start","type"].indexOf(t)>-1;case"p":return se.indexOf(t)>-1||["align"].indexOf(t)>-1;case"pre":return se.indexOf(t)>-1||["width"].indexOf(t)>-1;case"q":return se.indexOf(t)>-1||["cite"].indexOf(t)>-1;case"s":case"samp":case"small":case"span":case"strike":case"strong":case"sub":case"sup":return se.indexOf(t)>-1;case"table":return se.indexOf(t)>-1||["align","bgcolor","border","cellpadding","cellspacing","summary","width"].indexOf(t)>-1;case"tbody":return se.indexOf(t)>-1||le.indexOf(t)>-1||["valign"].indexOf(t)>-1;case"td":return se.indexOf(t)>-1||le.indexOf(t)>-1||["abbr","bgcolor","colspan","height","nowrap","rowspan","valign","width"].indexOf(t)>-1;case"tfoot":return se.indexOf(t)>-1||le.indexOf(t)>-1||["valign"].indexOf(t)>-1;case"th":return se.indexOf(t)>-1||le.indexOf(t)>-1||["abbr","bgcolor","colspan","height","nowrap","rowspan","valign","width"].indexOf(t)>-1;case"thead":return se.indexOf(t)>-1||le.indexOf(t)>-1||["valign"].indexOf(t)>-1;case"tr":return se.indexOf(t)>-1||le.indexOf(t)>-1||["bgcolor","valign"].indexOf(t)>-1;case"tt":case"u":return se.indexOf(t)>-1;case"ul":return se.indexOf(t)>-1||["compact","type"].indexOf(t)>-1;case"var":return se.indexOf(t)>-1}}function r(e){return e=e.toUpperCase(),-1==re.indexOf(e)}function n(e){var t=e.nodeName;return"INPUT"==(t=t.toUpperCase())&&e.type&&"image"==e.type.toLowerCase()?"img":"BODY"==t?"div":"HTML"==t?"div":"FORM"==t?"div":"LABEL"==t?"span":"FIELDSET"==t?"div":"LEGEND"==t?"span":"IFRAME"==t?"div":"EMBED"==t?"div":"CANVAS"==t?"img":"VIDEO"==t?"img":"HIGHLIGHT"==t?"span":te.indexOf(t)>-1?"div":r(t)&&-1==ee.indexOf(t)?"span":t.toLowerCase()}function s(e){var t=function(e){var t=!1;try{t=!e.cssRules||e.ownerNode.crossOrigin}catch(e){"SecurityError"==e.name&&(t=!0)}return t}(e);if(h(e))if(J.length>=K)a.default.warn("Hit style cap of "+K+" styles. Stopping.");else try{if(t&&e.href)return P.push({href:e.href,owner:e.ownerNode}),H++,J.push(e.href),k.push(e.href),void M(e.href,function(t){f(e.href,t)});var r=e.cssRules,n=null;if(e.ownerNode&&e.ownerNode.dataset&&e.ownerNode.dataset.evernoteOriginatingUrl){var i=/(.+)\//.exec(e.ownerNode.dataset.evernoteOriginatingUrl);i&&(n=i[1])}for(var o=0;o<r.length;o++)if(r[o].type==CSSRule.IMPORT_RULE){if(!r[o].styleSheet)continue;var s=r[o].styleSheet.href;if(/^https?:\/\//.test(r[o].href)||/^\/\//.test(r[o].href)||n&&(s="/"===r[o].href[0]?n+r[o].href:n+"/"+r[o].href),-1!=J.indexOf(s))continue;P.push({href:s,owner:e.ownerNode}),H++,J.push(s),k.push(s),function(e){M(e,function(t){f(e,t)})}(s)}else r[o].type==CSSRule.MEDIA_RULE&&h(r[o])&&P.push(r[o]);P.push(e)}catch(t){var l="";try{l=e.href}catch(e){}a.default.warn("Error in checkStyleSheet: "+t.message+", sheet href: "+l)}}function l(e,t,r){var n;return r=r.trim(),n=r.match(/^http/i)||r.startsWith("data:")?r:r.match(/^\//)?e.replace(/^(.*?:\/\/[^\/]+).*$/,"$1")+r:e.replace(/^(.*\/)/,"$1")+r,n=`url(${n})`}function d(e,t){function r(){for(var e=[a],t=0;t<arguments.length;t++)e.push(arguments[t]);return l.apply(this,e)}var n=D.document.location.href.replace(/[^\/]+$/,""),a=t.replace(/[^\/]+$/,"");return n==a?e:(e&&(e=e.replace(/url\(["']?(.*?)["']?\)/g,r)),e)}function c(){ue||(ue=setInterval(function(){try{if(J.length>=K)return u(),void g(I);e:for(var e=0;e<ce.length;e++)for(var t=ce[e][0],r=ce[e][1],n=0;n<D.document.styleSheets.length;n++){var a=D.document.styleSheets[n];if(a.ownerNode===t){P[r]=a,s(D.document.styleSheets[n]),ce.splice(e,1),H--;break e}}0==H&&(u(),g(I))}catch(e){A(null,e)}},100))}function u(){ue&&(clearInterval(ue),ue=0)}function f(e,t){try{var r=k.indexOf(e);if(-1==r){if(k.length)return}else k.splice(r,1);for(var n=0;n<P.length;n++){var a=P[n];if(a.href===e){var i=d(t,a.href),o=D.document.createElement("style");o.type="text/css",o.textContent=i,o.dataset.evernoteOriginatingUrl=a.href;for(var s=[],l=0;l<D.document.styleSheets.length;l++)s.push(D.document.styleSheets[l]);return a.owner&&a.owner.parentNode&&a.owner.parentNode!==D.document?a.owner.parentNode.insertBefore(o,a.owner):D.document.head.appendChild(o),U.push(o),ce.push([o,n]),void c()}}}catch(e){A(null,e)}}function h(e){try{if(e.media&&e.media.length){for(var t=0;t<e.media.length;t++){var r=e.media[t].toLowerCase(),n=r.match(/\bscreen\b/i),i=r.match(/\ball\b/i);r.match(/\ball and\b/i);if(n||i)return!0}return!1}}catch(e){a.default.log("Skipping stylesheet media check: "+e.message)}return!0}function g(e){requestAnimationFrame(function(){try{!function(){q=[],G=[];for(var e=0;e<P.length;e++){var t=P[e];if(t.cssRules)for(var r=0;r<t.cssRules.length;r++){var n=t.cssRules[r];if(n.selectorText){if(-1!==n.selectorText.indexOf("::-"))continue;if(n.selectorText.match(/(:?:before)|(:?:after)/)&&q.push(n),!Z||!D.getMatchedCSSRules){var i=[];try{i=D.document.querySelectorAll(n.selectorText)}catch(e){a.default.warn("Error in querySelectorAll: "+e.message+", selector: "+n.selectorText);continue}for(var s=0;s<i.length;s++){i[s].dataset||(i[s].dataset={}),i[s].classList.contains("js-evernote-checked")||(i[s].dataset.evernoteId=V++,i[s].classList.add("js-evernote-checked"));var l=i[s].dataset.evernoteId-0;if(isNaN(l))a.default.warn("Serializer warning: eid is NaN! evernoteId is "+i[s].dataset.evernoteId);else{for(;l>=G.length;)G.push([]);G[l]?(G[l].push(n),o(i[s],["Got style rule",n,V])):a.default.error("No eltToRules[eid]! eid:"+l+" eltToRules.length:"+G.length)}}}}}}}(),(B=[]).push({element:e,string:"",i:0,after:null}),p()}catch(e){A(null,e)}})}function m(e){if(function(e){return"string"==typeof e.id&&"movie_player"==e.id&&D.document.location.href.match(/v=(.*?)(&|$)/)}(e)){var t=D.document.location.href.match(/v=(.*?)(&|$)/)[1];return'<a href="'+S(D.document.location.href)+'" target="_blank"><img src="http://img.youtube.com/vi/'+t+'/0.jpg"></img></a>'}return""}function p(){if(++$%500!=0){var e=B[B.length-1];if(e||A(""),0==e.i){if(!r(n(e.element)))return B.pop(),void p();if(!function(e){if(e.parentNode&&e!=I){var t=e.parentNode.nodeName;if("dl"==(t=t.toLowerCase())){var r=n(e);if("dd"!=r&&"dt"!=r)return!1}}return!0}(e.element))return a.default.warn('discarding invalid DL child "'+e.element.nodeName+'"'),B.pop(),void p();if(T&&e.element!=T.commonAncestorContainer&&!T.intersectsNode(e.element))return B.pop(),void p();if(T&&e.element===T.endContainer&&0===T.endOffset)return B.pop(),void p();if(["evernoteClipperResult","evernoteAuthTools","evernoteFilingTools","evernoteGlobalTools","evernoteUserTools","evernoteShareTools","evernoteEmailSharing","evernoteOptionsPage","evernoteClearlyArticle"].indexOf(e.element.id)>-1||e.element.classList.contains(i.SERIALIZER_IGNORED_CLASS))return B.pop(),void p();var o=m(e.element);if(o)return e.string+=o,B.pop(),void(B.length?(B[B.length-1].string=e.string,p()):A(e.string));var s=function(e){if("iframe"!=e.nodeName.toLowerCase())return null;var t="";if(e.dataset&&e.dataset.en_id&&L&&L[e.dataset.en_id]){t=L[e.dataset.en_id];var r=w(e);e.width&&(r.map.width={value:e.width+"px"}),e.height&&(r.map.height={value:e.height+"px"}),r.map.position&&"static"!==r.map.position.value||(r.map.position={value:"relative"});var n="";for(var a in r.map)n+=a+":"+r.map[a].value+";";return"<div"+(n=n?' style="'+S(n)+'"':"")+">"+t+"</div>"}return null}(e.element);if(s)return e.string+=s,B.pop(),void(B.length?(B[B.length-1].string=e.string,p()):A(e.string));var l={};if(C&&(!function(e){try{if("application/x-shockwave-flash"===e.getAttribute("type")&&e.getAttribute("flashvars")){var t=/iurlsd=(.+?)(&|$)/.exec(e.getAttribute("flashvars"));if(t||(t=/iurl=(.+?)(&|$)/.exec(e.getAttribute("flashvars"))),t&&(e.style.backgroundImage="url("+decodeURIComponent(t[1])+")",e.style.backgroundPosition="50%",e.style.backgroundRepeat="no-repeat"),t=/video_id=(.+?)(&|$)/.exec(e.getAttribute("flashvars"))){var r=document.createElement("a");r.href="https://www.youtube.com/watch?v="+t[1],r.target="_blank",r.style.display="block",r.style.width="100%",r.style.height="100%",e.appendChild(r)}}}catch(e){a.default.warn("problem with adding pic to embedded youtube video")}}(e.element),(l=w(e.element)).after&&(e.after=l.after)),l.map&&l.map.display&&"none"==l.map.display.value)return B.pop(),void p();var d=n(e.element);if(e.string+="<"+d,function(e){"img"==e.nodeName.toLowerCase()&&(e.attributes.width||e.setAttribute("width",e.width),e.attributes.height||e.setAttribute("height",e.height))}(e.element),"CANVAS"==e.element.nodeName)try{e.string+=' src="'+e.element.toDataURL()+'"'}catch(e){}else"VIDEO"==e.element.nodeName&&e.element.poster&&(e.string+=' src="'+S(e.element.poster)+'"');if(e.element.attributes&&e.element.attributes.length)for(e.i=0;e.i<e.element.attributes.length;e.i++)!t(d,e.element.attributes[e.i].name)||"VIDEO"==e.element.nodeName&&"src"==e.element.attributes[e.i].name||(e.string+=" "+function(e,t){var r=null;if("href"==t.name.toLowerCase()){try{var n=e.href.animVal?e.href.animVal:e.href;n&&n.match(/^javascript/i)?n="#":/^https?:\/\//.test(n)||(n=e.baseURI+n)}catch(t){a.default.warn("Error in transformAttribute, "+t.message),n=e.baseURI}r=S(n)}else"src"==t.name.toLowerCase()&&(r=S(E(e)));null===r&&(r=S(t.value.replace(/\u000A/g,"")));return t.name+'="'+r+'"'}(e.element,e.element.attributes[e.i]));C&&"map"!=d&&(e.string+=l.style),e.string+=">",C&&l.before&&(e.string+=l.before),e.i=0}for(;e.i<e.element.childNodes.length;)if(e.element.childNodes[e.i].nodeType==Node.TEXT_NODE){var c;c=T&&e.element.childNodes[e.i]===T.startContainer?S(e.element.childNodes[e.i].textContent.substr(T.startOffset)):T&&e.element.childNodes[e.i]===T.endContainer?S(e.element.childNodes[e.i].textContent.substr(0,T.endOffset)):T&&!T.intersectsNode(e.element.childNodes[e.i])?"":S(e.element.childNodes[e.i].textContent),e.string+=c,e.i++}else{if(e.element.childNodes[e.i].nodeType==Node.ELEMENT_NODE&&function(e){if("VIDEO"==e.nodeName)return!1;return!0}(e.element))return B.push({element:e.element.childNodes[e.i],string:e.string,i:0,after:null}),e.i++,void p();e.i++}C&&e.after&&(e.string+=e.after),e.string+="</"+n(e.element)+">",B.pop(),B.length?(B[B.length-1].string=e.string,p()):A(e.string)}else requestAnimationFrame(function(){try{p()}catch(e){A(null,e)}})}function v(e){for(var t={},r=e.split(/;(?!.[^\(]+?\))\s*/),n=0;n<r.length;n++)if(r[n]=r[n].trim(),r[n]){var a=r[n].indexOf(":"),i=r[n].substr(0,a).trim(),o=r[n].substr(a+1).trim();if(i&&o){for(var s=new RegExp("(url\\(.+?\\))","g"),l=s.exec(o),d=o;l;){var c=l[1],u=c;/url\(.+?(data:.+?;.+?,.+?)\)/.test(u)&&(u="url("+/url\(.+?(data:.+?;.+?,.+?)"?\)/.exec(u)[1]+")"),/url\(\/\/(.+?)\)/.test(u)&&(u="url(http://"+/url\(\/\/(.+?)\)/.exec(u)[1]+")"),/url\(['"]?(.+?)['"]?\)/.test(u)&&(u="url("+S(R(/url\(['"]?(.+?)['"]?\)/.exec(u)[1]))+")"),d=d.replace(c,u),l=s.exec(o)}o=d,t[i.toLowerCase()]=o}}return function(e){if(e["background-position"]&&e["background-repeat"]&&"0px 50%"==e["background-position"].trim()&&"initial initial"==e["background-repeat"].trim()){for(var t in e)t.match(/background/)&&delete e[t];e.background="0"}}(t),t}function b(e){var t={};if(e.style.cssText){var r;if(!e.style.savedCssObj){var n=v(e.style.cssText);e.style.savedCssObj=n}r=e.style.savedCssObj;for(var a in r)t[a]=r[a]}return t}function y(e){var t={ids:{regex:/#[_A-Z]+[_A-Z0-9-]+/gi,count:0},classes:{regex:/\.[_A-Z]+[_A-Z0-9-]+/gi,count:0},attrs:{regex:/\[.*?\]/g,count:0},pseudos:{regex:/:+[_A-Z]+[_A-Z0-9-]+/gi,count:0},pseudoEls:{regex:/:+(first-line|first-letter|before|after)/gi,count:0},types:{regex:/(^|\s)[A-Z]+/gi,count:0}};for(var r in t)for(var n=t[r].regex;n.exec(e);)t[r].count++;t.pseudoClasses={},t.pseudoClasses.count=t.pseudos.count-t.pseudoEls.count;return 256*t.ids.count*256+256*(t.classes.count+t.attrs.count+t.pseudoClasses.count)+(t.types.count+t.pseudoEls.count)}function O(e){var t=[],r=0,n=0,a="",i=0;for(n=0;n<e.length;n++)a?e[n]==a&&(a=""):"'"==e[n]||'"'==e[n]?a=e[n]:"("==e[n]?i++:")"==e[n]?i--:","==e[n]&&0==i&&(t.push(e.substring(r,n).trim()),r=n+1);return t.push(e.substr(r).trim()),t}function x(e){return!!fe[e.toLowerCase()]}function _(e,t,r){var n={padding:{delete:["padding-top","padding-bottom","padding-left","padding-right"]},margin:{delete:["margin-top","margin-bottom","margin-left","margin-right"]},background:{delete:["background-color","background-position","background-size","background-repeat","background-origin","background-clip","background-attachment","background-image"],further:["background-position","background-repeat"]},"background-position":{delete:["background-position-x","background-position-y"]},"background-repeat":{delete:["background-repeat-x","background-repeat-y"]},border:{delete:["border-width","border-style","border-color"],further:["border-top","border-right","border-bottom","border-left"]},"border-top":{delete:["border-top-width","border-top-style","border-top-color"]},"border-right":{delete:["border-right-width","border-right-style","border-right-color"]},"border-bottom":{delete:["border-bottom-width","border-bottom-style","border-bottom-color"]},"border-left":{delete:["border-left-width","border-left-style","border-left-color"]}};if(n[e]){for(var a in n[e].delete)r[n[e].delete[a]]&&t>=r[n[e].delete[a]].score&&delete r[n[e].delete[a]];for(var a in n[e].further)r[n[e].further[a]]&&_(n[e].further[a],r[n[e].further[a]].score,r)}}function w(e,t,r){!function(e){e.style&&(e.hasAttribute("background")&&(e.style.backgroundImage="url("+e.getAttribute("background")+")"),e.hasAttribute("bgcolor")&&(e.style.backgroundColor=e.getAttribute("bgcolor")),e.hasAttribute("text")&&(e.style.color=e.getAttribute("text")))}(e);var n="",i=null,s={},d={};e.attributes&&e.attributes.style&&(i=v(e.attributes.style.value));var c={};!function(e,t){var r=e.nodeName.toLowerCase();"table"!=r&&"caption"!=r||"CSS1Compat"==D.document.compatMode&&(t["font-size"]={value:"inherit",score:0},t["font-weight"]={value:"inherit",score:0},t["font-style"]={value:"inherit",score:0},t["font-variant"]={value:"inherit",score:0})}(e,c);var u;if((u=Z&&D.getMatchedCSSRules?D.getMatchedCSSRules(e):e.dataset&&e.classList.contains("js-evernote-checked")?G[e.dataset.evernoteId]:[])&&u.length){o(e,["Resolving rules:",u]);for(var f=0;f<u.length;f++){if(!(u[f].parentRule&&u[f].parentRule.media)||window.matchMedia(u[f].parentRule.media.mediaText).matches){var h=0,g=!1;u[f].selectorText.match(/:visited/i)&&(g=!0);for(var m=O(u[f].selectorText),p=0;p<m.length;p++)if(-1===m[p].indexOf("::-")){var w;try{w=e.matches(m[p])}catch(e){a.default.log("Couldn't match against selector "+m[p]+" in: "+u[f].selectorText+" because of "+e.message)}if(w){g=!1;var E=y(m[p]);E>=h&&(h=E)}}if(g)continue;var N=b(u[f]);if(N["counter-reset"]){if((J=N["counter-reset"].split(/\s+/)).length>0)for(var A=0;A<J.length;)/^\d+$/.test(J[A+1])?(F[J[A]]=parseInt(J[A+1]),A+=2):F[J[A++]]=0}if(N["counter-increment"]){if((ee=N["counter-increment"].split(/\s+/)).length>0)for(var T=0;T<ee.length;)F[ee[T]]||(F[ee[T]]=0),/^\d+$/.test(ee[T+1])?(F[ee[T]]+=parseInt(ee[T+1]),T+=2):F[ee[T++]]++}for(var C in N){var L=C.replace(/^-/,"").replace(/-[a-z]/g,function(e){return e[1].toUpperCase()});if(u[f].style[L]&&"counterIncrement"!==L&&"counterReset"!==L){var M=0;c[C]&&(M=c[C].score);var k=h;if(N[C].match(/!important\s*$/i)&&(k+=16777216,N[C]=N[C].replace(/\s*!important\s*$/i,"")),k>=M&&(_(C,k,c),c[C]={value:N[C],score:k}),c[C].value&&c[C].value.indexOf("var(--")>-1){const t=window.getComputedStyle(e);c[C].value=t.getPropertyValue(C)}if(c[C].value&&c[C].value.indexOf("rem")>-1){if(/^[0-9.,]+rem$/.test(c[C].value)){const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue(C));r&&"number"==typeof r&&(c[C].value=`${r}px`)}}}}}}}for(f=0;f<q.length;f++){var H,P=q[f];if(e.matches)try{H=e.matches(P.selectorText.replace(/(:?:before)|(:?:after)/g,""))}catch(e){}if(H){var z=!1,U=!1;P.selectorText.match(/:?:before/)&&(z=!0),P.selectorText.match(/:?:after/)&&(U=!0);for(var C in c)z&&x(C)&&(s[C]=c[C].value),U&&x(C)&&(d[C]=c[C].value);var $=b(P);for(var C in $)z&&(s[C]=$[C]),U&&(d[C]=$[C])}}for(var B=[s,d],j=0;j<B.length;j++){var W=B[j],V="",Q="",K=0;if(W["counter-reset"]){var J=W["counter-reset"].split(/\s+/);for(A=0;A<J.length;)/^\d+$/.test(J[A+1])?(F[J[A]]=parseInt(J[A+1]),A+=2):F[J[A++]]=0}if(W["counter-increment"]){var ee=W["counter-increment"].split(/\s+/);for(T=0;T<ee.length;)F[ee[T]]||(F[ee[T]]=0),/^\d+$/.test(ee[T+1])?(F[ee[T]]+=parseInt(ee[T+1]),T+=2):F[ee[T++]]++}for(var p in W){if("content"==p){if(Q=(Q=W[p]).trim(),"none"!=(Q=Q.replace(/\s+!important$/,""))&&"normal"!=Q||(Q='""'),Q.match(/^'/)?Q=Q.replace(/^'(.*?)'.*/,"$1"):Q.match(/^"/)&&(Q=Q.replace(/^"(.*?)".*/,"$1")),Q.match(/^url\((.*)\)/)){Q="<img src='"+R(Q).match(/^url\("?(.*)"?\)/)[1]+"'></img>"}else if(Q.match(/^\s*counter\(.*?\)/)){var te=Q.match(/^\s*counter\((.*?)\)/)[1].split(",")[0];"number"==typeof F[te]&&(Q=S(F[te]))}else if(Q.match(/^\s*attr\((.*?)\)/)){var re=Q.match(/^\s*attr\((.*?)\)/)[1];Q=e.getAttribute(re)?S(e.getAttribute(re)):""}else Q.match(/^\s*-webkit-image-set\(.+\)/)?(V+="background:"+Q+";",Q=""):Q=S(Q)}else"counter-reset"!==p&&"counter-increment"!==p&&(V+=p+":"+S(R(W[p]))+";");K++}K&&(V='<span style="'+V+'">'+Q+"</span>",0==j?s=V:d=V)}if("string"!=typeof s&&(s=null),"string"!=typeof d&&(d=null),function(e,t={}){(t&&"fixed"===t.position||"fixed"===window.getComputedStyle(e).position)&&(t.display={value:"none",score:256})}(e,c),function(e,t){if(t.height&&t.height.value.match(/%$/)){var r=t.height.value;try{if("fixed"!=D.getComputedStyle(e).position){var n=D.getComputedStyle(e.parentNode).height;n||(r="auto")}}catch(e){}t.height.value=r}}(e,c),function(e){for(var t=["-webkit-user-select","-moz-user-select","-ms-user-select","user-select","-webkit-user-modify","-moz-user-modify","-ms-user-modify","user-modify"],r=0;r<t;r++)e[t[r]]&&delete e[t[r]]}(c),i){var ne=/url\(['"]?(.*?)['"]?\)/i;for(var C in i){if(ne.test(i[C])){var ae=ne.exec(i[C])[1],ie=D.document.location.href;X&&X.href&&(ie=X.href);var oe=R(l(ie,0,ae));i[C]=i[C].replace('url("'+ae+'")',oe).replace("url('"+ae+"')",oe).replace("url("+ae+")",oe)}c[C]={value:i[C]}}}if(e==I&&(t=de),t)for(f=0;f<t.length;f++)c[t[f]]&&delete c[t[f]];var se=Object.keys(c);se.sort(function(e,t){var r=c[e],n=c[t];return r.score>n.score});var le={H1:["height"]};le.H2=le.H1,le.H3=le.H1,le.H4=le.H1,le.H5=le.H1,le.H6=le.H1,Y&&Y.isOutlookMail&&function(e){var t={position:{from:"absolute",to:"static"},overflow:{from:"hidden",to:"visible"},"overflow-x":{from:"hidden",to:"visible"},"overflow-y":{from:"hidden",to:"visible"}};for(var r in t)e[r]&&e[r].value==t[r].from&&(e[r].value=t[r].to);e.right&&"0px"===e.right.value&&delete e.right}(c);for(var f in se)le[e.tagName]&&le[e.tagName].indexOf(se[f])>-1||c[se[f]]&&(n+=se[f]+":"+c[se[f]].value+";");return n=n?' style="'+S(n)+'"':"",o(e,["Resulting style:",n]),{style:n,before:s,after:d,map:c}}function E(e,t){if(!e||"img"!==e.tagName.toLowerCase())return"";var r=D||window,n=(e.src||"").trim();if(n.startsWith("data:"))return n;if(n.startsWith("//"))n=window.location.protocol+n;else{if(n.startsWith("file://"))return n;if(!/^https?:\/\//i.test(n))return n}if("IMG"!=e.nodeName||!/^https?:\/\//i.test(n)||/\.gif($|\?)/i.test(n)||!e.naturalWidth&&!e.naturalHeight)return e.naturalWidth&&e.naturalHeight?n:"";if(/^(https?:\/\/.[^\/]+)\/?/.exec(n)[1]!==r.document.location.origin)return n;var i=r.document.createElement("canvas");i.width=(t?e.naturalWidth:e.width)||1,i.height=(t?e.naturalHeight:e.height)||1,i.getContext("2d").drawImage(e,0,0,t?e.naturalWidth:e.width,t?e.naturalHeight:e.height);try{return/\.jpe?g$/.test(n)?i.toDataURL("image/jpeg"):i.toDataURL("image/png")}catch(e){return a.default.warn("Error getting canvas.toDataURL: "+JSON.stringify(e)),18===e.code||void 0===(e||{}).code?n:""}finally{i=null}}function N(){var e="",t="",i=null;try{i=I.parentNode}catch(e){return a.default.error("Cannot restore ancestors: "+e.message),{front:"",back:""}}var o;for(o=I.offsetWidth/function(e){for(var t,r=1,n=0;e&&e.parentNode&&!t;){var a=getComputedStyle(e);-1!==a.minWidth.indexOf("px")?n=(t=parseFloat(a.minWidth))*r:-1!==a.minWidth.indexOf("%")&&(r*=parseFloat(a.minWidth)/100),e=e.parentNode}return n}(i)<Q?de.concat("min-width"):de;i&&i.parentNode;){var s=w(i,o).style,l=n(i);r(l)&&(e="<"+l+s+">"+e,t=t+"</"+l+">"),i=i.parentNode}return e='<div style="font-size: 16px; display: inline-block; min-width: 100%;'+(W?"":"position: relative;")+'">'+e,t+="</div>",{front:e,back:t}}function A(e,t){if(j=!1,!t){var r={front:"",back:""};!C||Y&&Y.isEmailClip||(r=N()),e=r.front+e+r.back}for(var n=0;n<U.length;n++)U[n].parentNode.removeChild(U[n]);U=[];for(n=0;n<z.length;n++)try{z[n](e,t)}catch(e){a.default.warn("Couldn't run 'serialize' callback: "+e.stack||e.trace)}z=[]}function R(e){return(e=e||0===e?e+"":"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'")}function S(e){return(e=e||0===e?e+"":"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}if(!e||"function"!=typeof e.onCorsRequest)throw'Missing "onCorsRequest" listener to perform CORS requests.';var I,T,C,L,D,M=e.onCorsRequest,k=[],F={},H=0,P=[],z=[],U=[],$=0,B=[],j=!1,q=[],W=!1,G=[],Z=!1,V=0,Y={},Q=.8,X=null,K=100,J=[],ee=["A","ABBR","ACRONYM","ADDRESS","AREA","B","BDO","BIG","BLOCKQUOTE","BR","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","DD","DEL","DFN","DIV","DL","DT","EM","FONT","H1","H2","H3","H4","H5","H6","HR","I","IMG","INS","KBD","LI","MAP","OL","P","PRE","Q","S","SAMP","SMALL","SPAN","STRIKE","STRONG","SUB","SUP","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","TT","U","UL","VAR"],te=["ARTICLE","ASIDE","DETAILS","FOOTER","FIGURE","FIGCAPTION","HEADER","HGROUP","NAV","SECTION","SUMMARY"],re=["APPLET","BASE","BASEFONT","BGSOUND","BLINK","BODY","BUTTON","DIR","EMBED","FIELDSET","FORM","FRAME","FRAMESET","HEAD","HTML","IFRAME","ILAYER","INPUT","ISINDEX","LABEL","LAYER","LEGEND","LINK","MARQUEE","MENU","META","NOEMBED","NOFRAMES","NOSCRIPT","OBJECT","OPTGROUP","OPTION","PARAM","PLAINTEXT","SCRIPT","SELECT","STYLE","TEXTAREA","TITLE","XML"],ne=["id","class","accesskey","data","dynsrc","tabindex","style"],ae=["style","title"],ie=["lang","xml:lang","dir"],oe=["accesskey","tabindex"],se=["style","title","lang","xml:lang","dir"],le=["align","char","charoff"],de=["border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-style","border-top-width","border-width","bottom","clear","display","float","height","layout-flow","layout-grid","layout-grid-char","layout-grid-char-spacing","layout-grid-line","layout-grid-mode","layout-grid-type","left","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","position","right","size","table-layout","top","visibility","width","z-index"];!function(){const e=document.querySelectorAll(".js-evernote-checked");for(let t=0;t<e.length;t++)e[t].classList.remove("js-evernote-checked"),e[t].dataset.evernoteId&&delete e[t].dataset.evernoteId}();var ce=[],ue=0,fe={"border-collapse":!0,"border-spacing":!0,"caption-side":!0,color:!0,cursor:!0,direction:!0,"empty-cells":!0,"font-family":!0,"font-size":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,font:!0,"letter-spacing":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,"list-style":!0,orphans:!0,quotes:!0,"text-align":!0,"text-indent":!0,"text-transform":!0,visibility:!0,"white-space":!0,widows:!0,"word-spacing":!0};this.toBase64=E,this.serialize=function(e,t,r){try{var n=t;if("function"==typeof t&&(r=t,n={}),e instanceof Range&&e.commonAncestorContainer.nodeType==Node.TEXT_NODE)return void r(S(e.commonAncestorContainer.textContent.substring(e.startOffset,e.endOffset)));if(z.push(r),j)return void a.default.warn("Called serialize while blocked. Added callback but won't change base element.");Y={isOutlookMail:!!n.isOutlookMail,isEmailClip:!!n.isEmailClip},D=n.root||window,L=n.frameData,W=n.isFrame,C=!!n.keepStyle,j=!0,e instanceof Range?(I=e.commonAncestorContainer,T=e):(I=e,T=void 0),function(){H=0,J=[],F={},X=document.getElementsByTagName("base")[0];for(var e=0;e<D.document.styleSheets.length;e++)s(D.document.styleSheets[e]);0==H&&g(I)}()}catch(e){A(null,e)}}}var a=function(e){return e&&e.__esModule?e:{default:e}}(r(248)),i=r(138);const o=(e,t)=>{window.EWC_debugElementQuery&&e&&e.matches(window.EWC_debugElementQuery)&&console.debug("EWC_S:",...t)};Range.prototype.intersectsNode||(Range.prototype.intersectsNode=function(e){var t=document.createRange();return t.selectNode(e),0>this.compareBoundaryPoints(Range.END_TO_START,t)&&0<this.compareBoundaryPoints(Range.START_TO_END,t)}),"object"==typeof t&&t&&(e.exports=n)},704:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(242)),i=n(r(466)),o=n(r(248)),s=r(138);const l=3e3,d=2500,c=1500;let u=0;class f{constructor(e,t,r,n){this._frameChannel=e,this._frameID=t,this._fetchHandler=r,this._timeout=n||l,this._pendingFrames=null,this._frameData={},this._resolve=null,this._reject=null,this._timeoutID=null,this._completed=!1}serialize(e){return new Promise((t,r)=>{if(this._pendingFrames)throw new Error("FrameSerializerWorker already started");this._pendingFrames=new Set,this._resolve=t,this._reject=r;const n=[].slice.apply(document.querySelectorAll(`iframe:not(.${s.IGNORED_FRAME_CLASS})`));if(!n.length)return void this._completeSerialization(e);this._timeoutID=window.setTimeout(()=>{o.default.warn(`Could not serialize all iframes in ${this._frameDescription}`),this._completeSerialization(e)},this._timeout),n.forEach(e=>{e.dataset.en_id||(e.dataset.en_id=this._generateFrameID()),this._pendingFrames.add(e.dataset.en_id)});const a=this._getNextLevelTimeout(this._timeout);n.forEach(t=>{const r=t.dataset.en_id;this._frameChannel.sendMessageToFrame(t,s.MessageNames.SERIALIZE,{frameID:r,timeout:a}).then(e=>{if(!this._pendingFrames.has(r))throw new Error(`Unexpected frameID: ${r}`);this._frameData[r]=e}).catch().then(()=>{this._pendingFrames.delete(r),this._pendingFrames.size||this._completeSerialization(e)})})})}get _frameDescription(){return this._frameID?this._frameID:"root"}_getNextLevelTimeout(e){switch(e){case l:return d;case d:return c;case c:default:return c}}_completeSerialization(e){const t=document.documentElement.querySelector(e)||document.documentElement;if(this._completed)return;this._completed=!0,this._pendingFrames.forEach(e=>{this._frameData[e]='<div style="-evernote-clipper-iframe:timeout;"></div>'}),window.clearTimeout(this._timeoutID);new i.default({onCorsRequest:(e,t)=>{this._fetchHandler(e).then(t).catch(()=>t(""))}}).serialize(t,{frameData:this._frameData,keepStyle:!0,isFrame:!(window===top)},(e,t)=>{e?this._resolve(e):this._reject(t)})}_generateFrameID(){return this._frameID?`${this._frameID}_${++u}`:`FrameSerializer_${++u}`}}const h=new class{constructor(e=null){this._fetchHandler=e||this._forwardFetchToParent.bind(this),this._frameChannel=new a.default("FrameSerializer",{[s.MessageNames.SERIALIZE]:({frameID:e,timeout:t,target:r})=>this.serialize(t,e,r)})}start(){this._frameChannel.start()}serialize(e=0,t=null,r){return new f(this._frameChannel,t,this._fetchHandler,e).serialize(r)}_forwardFetchToParent(e){return this._frameChannel.sendMessage(window.top,s.MessageNames.FORWARD_FETCH_REQUEST,{url:e})}};h.start(),t.default=h}});